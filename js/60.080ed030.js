"use strict";(self["webpackChunkjamongtube"]=self["webpackChunkjamongtube"]||[]).push([[60],{7735:function(e,t,a){a.d(t,{M:function(){return n}});var l=a(9060);const n=e=>(0,l.Z)({url:"/videos/getOssVideo",method:"post",data:e})},714:function(e,t,a){function l(e,t){var a=new Date(e).Format("yyyyMM");return t&&(a=new Date(e).Format(t)),a.toLocaleString()}a.d(t,{uD:function(){return u},p6:function(){return n}}),Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e};const n=e=>{if(null!==e&&""!==e){var t=new Date(e);return l(t,"yyyy-MM-dd")}return""},u=(e,t)=>{t=t>0&&t<=20?t:2,e=parseFloat(e).toFixed(t);let a=e.split(".")[0].split("").reverse(),l=(e.split(".")[1],"");for(var n=0,u=a.length;n<u;n++){var s=(n+1)%3==0&&n+1!=u?",":"";l+=a[n]+s}return e=l.split("").reverse().join(""),e}},3169:function(e,t,a){a(7658),a(3396),a(2483)},3424:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var l=a(3396),n=a(4870),u=a(7139),s=a(1135),i=(a(3169),a(2267)),r=a(8129),o=a(344),d=a(9669),c=a(3147),v=a(6986),p=a(2483),h=a(714),y=a(7735),m=a(137),f=a.n(m),g=a(3831),w=a.n(g),b=a(7603);const x=e=>((0,l.dD)("data-v-5e45fe7d"),e=e(),(0,l.Cn)(),e),H={class:"detail"},M={class:"left"},_={class:"texts"},D={class:"right"},S={class:"texts"},U={class:"player-container",id:"player-container"},F=x((()=>(0,l._)("div",{id:"videoPlay"},null,-1))),I={class:"title-info"};var q={__name:"Player",setup(e){(0,n.iH)(),b["default"].browser.IS_SAFARI,(0,n.iH)();const t=(0,p.yj)(),a=((0,p.tv)(),(0,n.iH)(t.query.videoId)),m=(0,n.iH)(t.query.classifyName),g=(0,n.iH)(t.query.index);let x=(0,n.iH)(null),q=(0,n.iH)(null),k=(0,n.iH)(null),E=null;const R=(0,n.iH)({});let T=(0,n.iH)(null);const Z=async()=>{const e=await(0,c.b)({typee:41});T.value=e.data};Z();const z=async()=>{x.value=null;const e=await(0,v.ce)({page:2,classify:0});x.value=e.data};z();const A=(e,t)=>{E&&E.destroy(),E=new(w())({container:document.getElementById("videoPlay"),autoplay:!1,theme:"#FADFA3",loop:!0,lang:"zh-cn",screenshot:!1,hotkey:!1,playbackSpeed:[.5,.75,1,1.25,1.5,2],preload:"auto",volume:.7,mutex:!0,video:{url:e,pic:t,type:"customHls",customType:{customHls:function(t,a){const l=new(f());l.loadSource(e),l.attachMedia(t)}}}})},C=(e,a)=>{"Japan1"===e||"Top100"===e?(0,d.QT)(a).then((e=>{q.value=e.data[0].thumbnailUrl,k.value=e.data[0].url,R.value=e.data[0],A(e.data[0].url,e.data[0].thumbnailUrl)})):"Japan2"===e?(0,d.YT)(a).then((e=>{q.value=e.data[0].thumbnailUrl,k.value=e.data[0].url,R.value=e.data[0],A(e.data[0].url,e.data[0].thumbnailUrl)})):"Korea"===e?(0,d.NJ)(a).then((e=>{q.value=e.data[0].thumbnailUrl,k.value=e.data[0].url,R.value=e.data[0],A(e.data[0].url,e.data[0].thumbnailUrl)})):(0,y.M)({ID:parseInt(t.query.videoId)}).then((e=>{q.value=e.data.videoCover,k.value=e.data.video,R.value=e.data,A(k.value,q.value)}))};return(0,l.bv)((()=>{C(m.value,a.value)})),(0,p.ao)((e=>{setTimeout((()=>{(0,l.Y3)((()=>{C(e.query.classifyName,e.query.videoId)}))}),500)})),(e,t)=>{const a=(0,l.up)("van-icon");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(o.Z),(0,l.Wm)(s.Z,{adList:(0,n.SU)(T)},null,8,["adList"]),(0,l._)("div",H,[(0,l._)("div",M,[(0,l.Wm)(a,{name:"eye-o",color:"#fff",size:"14"}),(0,l._)("span",_,(0,u.zw)((0,n.SU)(h.uD)(R.value.views||R.value.watchTimes)),1)]),(0,l._)("div",D,[(0,l._)("span",S,(0,u.zw)((0,n.SU)(h.p6)(R.value.CreatedAt)),1)])]),(0,l._)("div",U,[F,(0,l._)("p",I,(0,u.zw)(R.value.title),1)]),(0,l.Wm)(i.Z,{videosList:(0,n.SU)(x),classifyName:"Japan1",indexx:g.value},null,8,["videosList","indexx"]),(0,l.Wm)(r.Z)],64)}}},k=a(89);const E=(0,k.Z)(q,[["__scopeId","data-v-5e45fe7d"]]);var R=E}}]);